{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\Desktop\\\\Projetos\\\\Programa\\xE7\\xE3o\\\\Cubos Academy\\\\2021.08.24 - Front-end\\\\testing-deploy-netlify\\\\src\\\\pages\\\\Perfil\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Divider, Typography, Button, TextField, Snackbar, Backdrop, CircularProgress } from '@material-ui/core';\nimport useStyles from './styles';\nimport { useHistory } from 'react-router';\nimport Alert from '@material-ui/lab/Alert';\nimport { get } from '../../services/ApiClient';\nimport useAuth from '../../hook/useAuth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Perfil() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    token\n  } = useAuth();\n  const [usuario, setUsuario] = useState({\n    nome: '',\n    nome_loja: '',\n    email: ''\n  });\n  const [erro, setErro] = useState('');\n  const [carregando, setCarregando] = useState(false);\n  useEffect(() => {\n    async function carregarUsuario() {\n      try {\n        setCarregando(true);\n        setErro('');\n        const {\n          dados,\n          erro\n        } = await get('perfil', token);\n\n        if (erro) {\n          setErro(dados);\n          return;\n        }\n\n        setUsuario(dados);\n      } catch (error) {\n        setErro(error.message);\n      } finally {\n        setCarregando(false);\n      }\n    }\n\n    carregarUsuario();\n  }, [token]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: \"Perfil\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.formContainer,\n      children: [/*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Seu nome\",\n        disabled: true,\n        value: usuario.nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"Nome da loja\",\n        disabled: true,\n        value: usuario.nome_loja\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(TextField, {\n        label: \"E-mail\",\n        disabled: true,\n        value: usuario.email\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      className: classes.divider\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.botao,\n      onClick: () => history.push('/perfil/editar'),\n      children: \"EDITAR PERFIL\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      autoHideDuration: 3000,\n      open: !!erro,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setErro(''),\n        severity: \"error\",\n        children: erro\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this)\n    }, erro, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      className: classes.backdrop,\n      open: carregando,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Perfil, \"9SCwqfbj4ES/nxyw9Ffz9MRS25w=\", false, function () {\n  return [useStyles, useHistory, useAuth];\n});\n\n_c = Perfil;\nexport default Perfil;\n\nvar _c;\n\n$RefreshReg$(_c, \"Perfil\");","map":{"version":3,"sources":["C:/Users/felip/Desktop/Projetos/Programação/Cubos Academy/2021.08.24 - Front-end/testing-deploy-netlify/src/pages/Perfil/index.js"],"names":["React","useEffect","useState","Divider","Typography","Button","TextField","Snackbar","Backdrop","CircularProgress","useStyles","useHistory","Alert","get","useAuth","Perfil","classes","history","token","usuario","setUsuario","nome","nome_loja","email","erro","setErro","carregando","setCarregando","carregarUsuario","dados","error","message","formContainer","divider","botao","push","vertical","horizontal","backdrop"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { \r\n  Divider, \r\n  Typography, \r\n  Button,\r\n  TextField,\r\n  Snackbar,\r\n  Backdrop,\r\n  CircularProgress,\r\n} from '@material-ui/core'\r\nimport useStyles from './styles';\r\nimport { useHistory } from 'react-router';\r\nimport Alert from '@material-ui/lab/Alert';\r\nimport { get } from '../../services/ApiClient';\r\nimport useAuth from '../../hook/useAuth';\r\n\r\nfunction Perfil() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { token } = useAuth();\r\n  const [usuario, setUsuario] = useState({ nome: '', nome_loja: '', email: '' });\r\n  const [erro, setErro] = useState('');\r\n  const [carregando, setCarregando] = useState(false);\r\n\r\n  useEffect(() => {\r\n    async function carregarUsuario() {\r\n      try {  \r\n        setCarregando(true);\r\n        setErro('');\r\n\r\n        const { dados, erro } = await get('perfil', token);\r\n        \r\n        if(erro) {\r\n          setErro(dados);\r\n          return;\r\n        }\r\n\r\n        setUsuario(dados);\r\n      } catch (error) {\r\n        setErro(error.message);\r\n      } finally {\r\n        setCarregando(false);\r\n      }\r\n    }\r\n\r\n    carregarUsuario();\r\n  }, [token]);\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\">Perfil</Typography>\r\n      <div className={classes.formContainer}>\r\n        <TextField label=\"Seu nome\" disabled value={usuario.nome} />\r\n        <TextField label=\"Nome da loja\" disabled value={usuario.nome_loja} />\r\n        <TextField label=\"E-mail\" disabled value={usuario.email} />\r\n      </div>\r\n      <Divider className={classes.divider} />\r\n      <Button \r\n        className={classes.botao}\r\n        onClick={() => history.push('/perfil/editar')}\r\n      >EDITAR PERFIL</Button>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n        autoHideDuration={3000}\r\n        open={!!erro}\r\n        key={erro}\r\n      >\r\n        <Alert onClose={() => setErro('')} severity=\"error\">\r\n          {erro}\r\n        </Alert>\r\n      </Snackbar>\r\n      <Backdrop className={classes.backdrop} open={carregando}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Perfil;\r\n"]},"metadata":{},"sourceType":"module"}