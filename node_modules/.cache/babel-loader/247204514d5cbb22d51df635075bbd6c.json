{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\felip\\\\Desktop\\\\Projetos\\\\Programa\\xE7\\xE3o\\\\Cubos Academy\\\\2021.08.24 - Front-end\\\\testing-deploy-netlify\\\\src\\\\pages\\\\Produtos\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport { Divider, Typography, Grid, Button, Snackbar, Backdrop, CircularProgress } from '@material-ui/core';\nimport Produto from '../../components/Produto';\nimport useStyles from './styles';\nimport { useHistory } from 'react-router';\nimport { get } from '../../services/ApiClient';\nimport useAuth from '../../hook/useAuth';\nimport Alert from '@material-ui/lab/Alert';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction Produtos() {\n  _s();\n\n  const classes = useStyles();\n  const history = useHistory();\n  const {\n    token\n  } = useAuth();\n  const [produtos, setProdutos] = useState([]);\n  const [erro, setErro] = useState('');\n  const [carregando, setCarregando] = useState(false);\n  const [carregar, setCarregar] = useState(false);\n  useEffect(() => {\n    setCarregar(false);\n\n    async function carregarProdutos() {\n      try {\n        setCarregando(true);\n        setErro('');\n        const {\n          dados,\n          erro\n        } = await get('produtos', token);\n\n        if (erro) {\n          setErro(dados);\n          return;\n        }\n\n        setProdutos(dados);\n      } catch (error) {\n        setErro(error.message);\n      } finally {\n        setCarregando(false);\n      }\n    }\n\n    carregarProdutos();\n  }, [token, carregar]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h4\",\n      children: \"Seus produtos\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 4,\n      children: produtos.map(produto => /*#__PURE__*/_jsxDEV(Grid, {\n        className: classes.produto,\n        item: true,\n        children: /*#__PURE__*/_jsxDEV(Produto, { ...produto,\n          recarregar: () => setCarregar(true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 13\n        }, this)\n      }, produto.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Divider, {\n      className: classes.divider\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      className: classes.botao,\n      onClick: () => history.push('/produtos/novo'),\n      children: \"ADICIONAR PRODUTO\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Snackbar, {\n      anchorOrigin: {\n        vertical: 'bottom',\n        horizontal: 'center'\n      },\n      autoHideDuration: 3000,\n      open: !!erro,\n      children: /*#__PURE__*/_jsxDEV(Alert, {\n        onClose: () => setErro(''),\n        severity: \"error\",\n        children: erro\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)\n    }, erro, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Backdrop, {\n      className: classes.backdrop,\n      open: carregando,\n      children: /*#__PURE__*/_jsxDEV(CircularProgress, {\n        color: \"inherit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n}\n\n_s(Produtos, \"hPMkulbeTZlVs1JfH/j9kWIKEXk=\", false, function () {\n  return [useStyles, useHistory, useAuth];\n});\n\n_c = Produtos;\nexport default Produtos;\n\nvar _c;\n\n$RefreshReg$(_c, \"Produtos\");","map":{"version":3,"sources":["C:/Users/felip/Desktop/Projetos/Programação/Cubos Academy/2021.08.24 - Front-end/testing-deploy-netlify/src/pages/Produtos/index.js"],"names":["React","useState","useEffect","Divider","Typography","Grid","Button","Snackbar","Backdrop","CircularProgress","Produto","useStyles","useHistory","get","useAuth","Alert","Produtos","classes","history","token","produtos","setProdutos","erro","setErro","carregando","setCarregando","carregar","setCarregar","carregarProdutos","dados","error","message","map","produto","id","divider","botao","push","vertical","horizontal","backdrop"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { \r\n  Divider, \r\n  Typography, \r\n  Grid,\r\n  Button,\r\n  Snackbar,\r\n  Backdrop,\r\n  CircularProgress,\r\n} from '@material-ui/core'\r\nimport Produto from '../../components/Produto';\r\nimport useStyles from './styles';\r\nimport { useHistory } from 'react-router';\r\nimport { get } from '../../services/ApiClient';\r\nimport useAuth from '../../hook/useAuth';\r\nimport Alert from '@material-ui/lab/Alert';\r\n\r\nfunction Produtos() {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { token } = useAuth();\r\n  const [produtos, setProdutos] = useState([]);\r\n  const [erro, setErro] = useState('');\r\n  const [carregando, setCarregando] = useState(false);\r\n  const [carregar, setCarregar] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setCarregar(false);\r\n\r\n    async function carregarProdutos() {\r\n      try {\r\n        setCarregando(true);\r\n        setErro('');\r\n\r\n        const { dados, erro } = await get('produtos', token);\r\n\r\n        if (erro) {\r\n          setErro(dados);\r\n          return;\r\n        }\r\n\r\n        setProdutos(dados);\r\n      } catch (error) {\r\n        setErro(error.message);\r\n      } finally {\r\n        setCarregando(false);\r\n      }\r\n    }\r\n\r\n    carregarProdutos();\r\n  }, [token, carregar]);\r\n\r\n  return (\r\n    <>\r\n      <Typography variant=\"h4\">Seus produtos</Typography>\r\n      <Grid container spacing={4}>\r\n        {produtos.map(produto => (\r\n          <Grid className={classes.produto} item key={produto.id}>\r\n            <Produto {...produto} recarregar={() => setCarregar(true)} />\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n      <Divider className={classes.divider} />\r\n      <Button \r\n        className={classes.botao}\r\n        onClick={() => history.push('/produtos/novo')}\r\n      >ADICIONAR PRODUTO</Button>\r\n      <Snackbar\r\n        anchorOrigin={{ vertical: 'bottom', horizontal: 'center' }}\r\n        autoHideDuration={3000}\r\n        open={!!erro}\r\n        key={erro}\r\n      >\r\n        <Alert onClose={() => setErro('')} severity=\"error\">\r\n          {erro}\r\n        </Alert>\r\n      </Snackbar>\r\n      <Backdrop className={classes.backdrop} open={carregando}>\r\n        <CircularProgress color=\"inherit\" />\r\n      </Backdrop>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Produtos;\r\n"]},"metadata":{},"sourceType":"module"}